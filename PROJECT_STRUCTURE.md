# ğŸ“‚ WebMind é¡¹ç›®æ–‡ä»¶ç»“æ„

```
Chrome Challenge/
â”‚
â”œâ”€â”€ ğŸ“„ manifest.json                 # Chrome æ‰©å±•é…ç½®æ¸…å•ï¼ˆManifest V3ï¼‰
â”œâ”€â”€ ğŸ“„ package.json                  # NPM ä¾èµ–å’Œè„šæœ¬é…ç½®
â”œâ”€â”€ ğŸ“„ tsconfig.json                 # TypeScript ç¼–è¯‘é…ç½®
â”œâ”€â”€ ğŸ“„ tsconfig.node.json            # Node ç¯å¢ƒçš„ TypeScript é…ç½®
â”œâ”€â”€ ğŸ“„ vite.config.ts                # Vite æ„å»ºå·¥å…·é…ç½®
â”œâ”€â”€ ğŸ“„ .gitignore                    # Git å¿½ç•¥æ–‡ä»¶é…ç½®
â”‚
â”œâ”€â”€ ğŸ“– README.md                     # é¡¹ç›®ä¸»æ–‡æ¡£
â”œâ”€â”€ ğŸ“– SETUP.md                      # è¯¦ç»†å®‰è£…é…ç½®æŒ‡å—
â”œâ”€â”€ ğŸ“– ARCHITECTURE.md               # ç³»ç»Ÿæ¶æ„è®¾è®¡æ–‡æ¡£
â”œâ”€â”€ ğŸ“– PROJECT_STRUCTURE.md          # æœ¬æ–‡ä»¶ï¼šé¡¹ç›®ç»“æ„è¯´æ˜
â”‚
â”œâ”€â”€ ğŸ“ public/                       # å…¬å…±èµ„æºæ–‡ä»¶å¤¹
â”‚   â””â”€â”€ ğŸ“ icons/                    # æ‰©å±•å›¾æ ‡ç›®å½•
â”‚       â”œâ”€â”€ ğŸ“„ README.md             # å›¾æ ‡ä½¿ç”¨è¯´æ˜
â”‚       â”œâ”€â”€ ğŸ–¼ï¸ icon16.png            # 16x16 å·¥å…·æ å›¾æ ‡ï¼ˆéœ€æ·»åŠ ï¼‰
â”‚       â”œâ”€â”€ ğŸ–¼ï¸ icon48.png            # 48x48 ç®¡ç†é¡µå›¾æ ‡ï¼ˆéœ€æ·»åŠ ï¼‰
â”‚       â””â”€â”€ ğŸ–¼ï¸ icon128.png           # 128x128 å•†åº—å›¾æ ‡ï¼ˆéœ€æ·»åŠ ï¼‰
â”‚
â”œâ”€â”€ ğŸ“ src/                          # æºä»£ç ç›®å½•
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ background/               # åå°æœåŠ¡ï¼ˆService Workerï¼‰
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ service-worker.ts     # ä¸»åå°è„šæœ¬ï¼Œæ¶ˆæ¯è·¯ç”±å’Œé€»è¾‘å¤„ç†
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ offscreen.html        # ç¦»å±æ–‡æ¡£ HTMLï¼ˆç”¨äºè°ƒç”¨ AI APIï¼‰
â”‚   â”‚   â””â”€â”€ ğŸ“„ offscreen.ts          # ç¦»å±æ–‡æ¡£è„šæœ¬ï¼ˆAI API è°ƒç”¨å®ç°ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ content/                  # å†…å®¹è„šæœ¬ï¼ˆæ³¨å…¥åˆ°ç½‘é¡µï¼‰
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ content.ts            # æ–‡æœ¬é€‰æ‹©ç›‘å¬å’Œæµ®åŠ¨æŒ‰é’®é€»è¾‘
â”‚   â”‚   â””â”€â”€ ğŸ“„ content.css           # æµ®åŠ¨æŒ‰é’®æ ·å¼
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ popup/                    # å¼¹å‡ºçª—å£ï¼ˆç‚¹å‡»æ‰©å±•å›¾æ ‡ï¼‰
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ index.html            # Popup HTML æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ index.tsx             # React å…¥å£æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Popup.tsx             # Popup ä¸»ç»„ä»¶ï¼ˆæ˜¾ç¤ºç¬”è®°å’ŒçŠ¶æ€ï¼‰
â”‚   â”‚   â””â”€â”€ ğŸ“„ popup.css             # Popup æ ·å¼ï¼ˆæ¸å˜ä¸»é¢˜ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ sidepanel/                # ä¾§è¾¹æ é¢æ¿
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ index.html            # SidePanel HTML æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ index.tsx             # React å…¥å£æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ SidePanel.tsx         # ä¾§è¾¹æ ä¸»ç»„ä»¶ï¼ˆç¬”è®°åˆ—è¡¨å’Œåˆ‡æ¢ï¼‰
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ MindMap.tsx           # æ€ç»´å¯¼å›¾ç»„ä»¶ï¼ˆD3.js å¯è§†åŒ–ï¼‰
â”‚   â”‚   â””â”€â”€ ğŸ“„ sidepanel.css         # ä¾§è¾¹æ æ ·å¼
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ shared/                   # å…±äº«æ¨¡å—ï¼ˆæ‰€æœ‰ç»„ä»¶å…±ç”¨ï¼‰
â”‚       â”œâ”€â”€ ğŸ“„ types.ts              # TypeScript ç±»å‹å®šä¹‰
â”‚       â”œâ”€â”€ ğŸ“„ store.ts              # Zustand çŠ¶æ€ç®¡ç† Store
â”‚       â””â”€â”€ ğŸ“ utils/                # å·¥å…·å‡½æ•°
â”‚           â”œâ”€â”€ ğŸ“„ storage.ts        # æœ¬åœ°å­˜å‚¨å·¥å…·ï¼ˆCRUD æ“ä½œï¼‰
â”‚           â””â”€â”€ ğŸ“„ ai.ts             # AI åŠŸèƒ½å·¥å…·ï¼ˆæ‘˜è¦å’Œå…³é”®è¯æå–ï¼‰
â”‚
â””â”€â”€ ğŸ“ dist/                         # æ„å»ºè¾“å‡ºç›®å½•ï¼ˆè¿è¡Œ npm run build åç”Ÿæˆï¼‰
    â”œâ”€â”€ ğŸ“„ manifest.json             # å¤åˆ¶çš„æ¸…å•æ–‡ä»¶
    â”œâ”€â”€ ğŸ“ background/               # æ‰“åŒ…åçš„åå°è„šæœ¬
    â”œâ”€â”€ ğŸ“ content/                  # æ‰“åŒ…åçš„å†…å®¹è„šæœ¬
    â”œâ”€â”€ ğŸ“ assets/                   # æ‰“åŒ…åçš„èµ„æºæ–‡ä»¶
    â”œâ”€â”€ ğŸ“ src/                      # HTML å’Œ React ç»„ä»¶
    â””â”€â”€ ğŸ“ icons/                    # å›¾æ ‡æ–‡ä»¶
```

## ğŸ“Š æ–‡ä»¶åŠŸèƒ½è¯¦è§£

### æ ¸å¿ƒé…ç½®æ–‡ä»¶

| æ–‡ä»¶ | ä½œç”¨ | å…³é”®é…ç½® |
|------|------|----------|
| `manifest.json` | Chrome æ‰©å±•é…ç½® | permissions, background, content_scripts, side_panel |
| `package.json` | NPM ä¾èµ–ç®¡ç† | react, d3, zustand, typescript, vite |
| `vite.config.ts` | æ„å»ºé…ç½® | å¤šå…¥å£æ‰“åŒ…ï¼Œè¾“å‡ºè·¯å¾„æ˜ å°„ |
| `tsconfig.json` | TypeScript é…ç½® | ä¸¥æ ¼æ¨¡å¼ï¼ŒReact JSX æ”¯æŒ |

### æºä»£ç æ¨¡å—

#### ğŸ”§ Backgroundï¼ˆåå°ï¼‰
- **service-worker.ts**: æ¶ˆæ¯ä¸­å¿ƒï¼Œåè°ƒå„ç»„ä»¶é€šä¿¡
- **offscreen.ts**: åœ¨é¡µé¢ä¸Šä¸‹æ–‡è°ƒç”¨ Chrome Built-in AI

#### ğŸ“ Contentï¼ˆå†…å®¹è„šæœ¬ï¼‰
- **content.ts**: ç›‘å¬æ–‡æœ¬é€‰æ‹©ï¼Œæ˜¾ç¤º AI æ‘˜è¦æŒ‰é’®
- **content.css**: æµ®åŠ¨æŒ‰é’®å’Œé€šçŸ¥æ ·å¼

#### ğŸ¨ Popupï¼ˆå¼¹å‡ºçª—å£ï¼‰
- **Popup.tsx**: å¿«é€ŸæŸ¥çœ‹æœ€è¿‘ç¬”è®°å’Œ AI çŠ¶æ€
- **popup.css**: ç´«è‰²æ¸å˜ä¸»é¢˜æ ·å¼

#### ğŸ“Š SidePanelï¼ˆä¾§è¾¹æ ï¼‰
- **SidePanel.tsx**: ç¬”è®°ç®¡ç†ä¸»ç•Œé¢
- **MindMap.tsx**: D3.js åŠ›å¯¼å‘å›¾å¯è§†åŒ–
- **sidepanel.css**: ç°ä»£åŒ– UI æ ·å¼

#### ğŸ”— Sharedï¼ˆå…±äº«ï¼‰
- **types.ts**: å…¨å±€ç±»å‹å®šä¹‰ï¼ˆNote, Message, AI æ¥å£ï¼‰
- **store.ts**: Zustand çŠ¶æ€ç®¡ç†ï¼ˆç¬”è®° CRUDï¼‰
- **utils/storage.ts**: Chrome Storage API å°è£…
- **utils/ai.ts**: AI åŠŸèƒ½å°è£…ï¼ˆæ‘˜è¦ã€å…³é”®è¯æå–ï¼‰

## ğŸ“¦ æ„å»ºäº§ç‰©ï¼ˆdist ç›®å½•ï¼‰

è¿è¡Œ `npm run build` åç”Ÿæˆï¼š

```
dist/
â”œâ”€â”€ manifest.json                    # æ¸…å•æ–‡ä»¶
â”œâ”€â”€ background/
â”‚   â”œâ”€â”€ service-worker.js            # æ‰“åŒ…åçš„ Service Worker
â”‚   â”œâ”€â”€ offscreen.js                 # æ‰“åŒ…åçš„ Offscreen è„šæœ¬
â”‚   â””â”€â”€ offscreen.html               # Offscreen é¡µé¢
â”œâ”€â”€ content/
â”‚   â”œâ”€â”€ content.js                   # æ‰“åŒ…åçš„ Content Script
â”‚   â””â”€â”€ content.css                  # Content Script æ ·å¼
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ popup/
â”‚   â”‚   â””â”€â”€ index.html               # Popup é¡µé¢ï¼ˆåŒ…å«æ‰“åŒ…åçš„ JS/CSSï¼‰
â”‚   â””â”€â”€ sidepanel/
â”‚       â””â”€â”€ index.html               # SidePanel é¡µé¢
â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ popup-[hash].js              # Popup React ä»£ç 
â”‚   â”œâ”€â”€ sidepanel-[hash].js          # SidePanel React ä»£ç 
â”‚   â”œâ”€â”€ [name]-[hash].css            # æ ·å¼æ–‡ä»¶
â”‚   â””â”€â”€ ...                          # å…¶ä»–èµ„æº
â””â”€â”€ icons/
    â”œâ”€â”€ icon16.png
    â”œâ”€â”€ icon48.png
    â””â”€â”€ icon128.png
```

## ğŸ”„ æ•°æ®æµå‘

```
ç½‘é¡µæ–‡æœ¬é€‰æ‹©
    â†“
content.ts (æ•è·)
    â†“
service-worker.ts (å¤„ç†)
    â†“
offscreen.ts (è°ƒç”¨ AI)
    â†“
window.ai.summarizer (ç”Ÿæˆæ‘˜è¦)
    â†“
storage.ts (ä¿å­˜ç¬”è®°)
    â†“
store.ts (æ›´æ–°çŠ¶æ€)
    â†“
Popup/SidePanel (æ˜¾ç¤º)
```

## ğŸ“ ä»£ç è§„æ¨¡

| æ¨¡å— | æ–‡ä»¶æ•° | ä»£ç è¡Œæ•°ï¼ˆä¼°ç®—ï¼‰ |
|------|--------|------------------|
| Background | 3 | ~350 è¡Œ |
| Content | 2 | ~250 è¡Œ |
| Popup | 3 | ~300 è¡Œ |
| SidePanel | 3 | ~800 è¡Œ |
| Shared | 4 | ~400 è¡Œ |
| é…ç½® | 4 | ~150 è¡Œ |
| **æ€»è®¡** | **19** | **~2250 è¡Œ** |

## ğŸ¯ å…³é”®ä¾èµ–

### ç”Ÿäº§ä¾èµ–
- `react` ^18.2.0 - UI æ¡†æ¶
- `react-dom` ^18.2.0 - React DOM æ¸²æŸ“
- `d3` ^7.8.5 - æ€ç»´å¯¼å›¾å¯è§†åŒ–
- `zustand` ^4.4.7 - è½»é‡çº§çŠ¶æ€ç®¡ç†

### å¼€å‘ä¾èµ–
- `typescript` ^5.3.3 - ç±»å‹å®‰å…¨
- `vite` ^5.0.8 - å¿«é€Ÿæ„å»ºå·¥å…·
- `@vitejs/plugin-react` ^4.2.1 - React æ’ä»¶
- `@types/chrome` ^0.0.254 - Chrome API ç±»å‹

## ğŸš€ å¼€å‘å·¥ä½œæµ

```bash
# 1. å®‰è£…ä¾èµ–
npm install

# 2. å¼€å‘æ¨¡å¼ï¼ˆè‡ªåŠ¨é‡æ–°æ„å»ºï¼‰
npm run dev

# 3. åœ¨ chrome://extensions/ åŠ è½½ dist ç›®å½•

# 4. ä¿®æ”¹ä»£ç åï¼Œæ‰‹åŠ¨åˆ·æ–°æ‰©å±•

# 5. ç”Ÿäº§æ„å»º
npm run build
```

## ğŸ“ å‘½åçº¦å®š

- **æ–‡ä»¶å**: PascalCaseï¼ˆç»„ä»¶ï¼‰ï¼Œkebab-caseï¼ˆé…ç½®ï¼‰
- **ç»„ä»¶**: PascalCaseï¼ˆ`Popup.tsx`, `MindMap.tsx`ï¼‰
- **å·¥å…·**: camelCaseï¼ˆ`storage.ts`, `ai.ts`ï¼‰
- **ç±»å‹**: PascalCaseï¼ˆ`Note`, `MessageType`ï¼‰
- **å¸¸é‡**: UPPER_SNAKE_CASEï¼ˆ`STORAGE_KEY`ï¼‰

## ğŸ” æŸ¥æ‰¾ä»£ç 

| éœ€æ±‚ | æŸ¥æ‰¾ä½ç½® |
|------|----------|
| ä¿®æ”¹æµ®åŠ¨æŒ‰é’®æ ·å¼ | `src/content/content.css` |
| è°ƒæ•´ AI å‚æ•° | `src/background/offscreen.ts` |
| ä¿®æ”¹ç¬”è®°å¡ç‰‡å¸ƒå±€ | `src/sidepanel/SidePanel.tsx` |
| è°ƒæ•´æ€ç»´å¯¼å›¾ç®—æ³• | `src/sidepanel/MindMap.tsx` |
| æ·»åŠ æ–°çš„å­˜å‚¨å­—æ®µ | `src/shared/types.ts` + `src/shared/utils/storage.ts` |
| ä¿®æ”¹ä¸»é¢˜é¢œè‰² | `*.css` æ–‡ä»¶ï¼ˆæœç´¢ `#667eea` å’Œ `#764ba2`ï¼‰ |

---

**æç¤º**: ä½¿ç”¨ VS Code çš„ã€ŒGo to Symbolã€ï¼ˆCmd/Ctrl + Shift + Oï¼‰å¿«é€Ÿå®šä½å‡½æ•°å’Œç»„ä»¶

